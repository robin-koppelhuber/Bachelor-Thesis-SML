# @package _global_.datasets.mnli
name: mnli
display_name: "MNLI"
task_type: classification
num_labels: 3

# HuggingFace dataset
hf_dataset:
  path: nyu-mll/glue
  subset: mnli
  split:
    train: train
    validation: validation_matched
    test: validation_matched  # Use validation as test

# Fine-tuned model checkpoint
finetuned_checkpoint: textattack/roberta-base-MNLI

# Preprocessing
preprocessing:
  text_column: premise  # Will concatenate with hypothesis
  text_column_2: hypothesis
  label_column: label
  # Label remapping for textattack/roberta-base-MNLI
  # The model expects: 0=contradiction, 1=neutral, 2=entailment
  # GLUE dataset uses: 0=entailment, 1=neutral, 2=contradiction
  label_map:
    0: 2  # entailment (dataset) -> 2 (model)
    1: 1  # neutral (dataset) -> 1 (model)
    2: 0  # contradiction (dataset) -> 0 (model)
  max_length: 512
  truncation: true
  padding: max_length

# Evaluation
evaluation:
  batch_size: 32
  metrics:
    - accuracy
    - f1_macro
